(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c980b37a"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var i=r("1d80"),s=r("5899"),l="["+s+"]",a=RegExp("^"+l+l+"*"),n=RegExp(l+l+"*$"),o=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(n,"")),r}};e.exports={start:o(1),end:o(2),trim:o(3)}},6348:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"operate-top-card",attrs:{shadow:"never"}},[r("div",[r("i",{staticClass:"el-icon-search",staticStyle:{"font-size":"18px","margin-right":"3px"}}),r("span",[e._v("筛选搜索")]),r("el-button",{staticClass:"btn-find",staticStyle:{float:"right","margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleSearchList}},[e._v(" 查询订单 ")]),r("el-button",{staticClass:"btn-clear",staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:e.handleResetSearch}},[e._v(" 清空 ")])],1),r("div",{staticStyle:{"margin-top":"50px"}},[r("el-form",{ref:"productCateForm",attrs:{model:e.listQuery,"label-width":"150px",inline:!0}},[r("el-form-item",{attrs:{label:"订单编号："}},[r("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.listQuery.orderSn,callback:function(t){e.$set(e.listQuery,"orderSn",t)},expression:"listQuery.orderSn"}})],1),r("el-form-item",{attrs:{label:"订单状态："}},[r("el-select",{attrs:{placeholder:"请选择订单的状态"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"订单分类:"}},[r("el-select",{attrs:{placeholder:"请选择订单分类"},model:{value:e.listQuery.orderType,callback:function(t){e.$set(e.listQuery,"orderType",t)},expression:"listQuery.orderType"}},e._l(e.orderTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"订单来源:"}},[r("el-select",{attrs:{placeholder:"请选择订单来源"},model:{value:e.listQuery.sourceType,callback:function(t){e.$set(e.listQuery,"sourceType",t)},expression:"listQuery.sourceType"}},e._l(e.sourceTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"下单时间:"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.listQuery.orderTime,callback:function(t){e.$set(e.listQuery,"orderTime",t)},expression:"listQuery.orderTime"}})],1),r("el-form-item",{attrs:{label:"收货人："}},[r("el-input",{attrs:{placeholder:"请输入收货人姓名"},model:{value:e.listQuery.receiverName,callback:function(t){e.$set(e.listQuery,"receiverName",t)},expression:"listQuery.receiverName"}})],1)],1)],1)]),r("div",[r("el-card",{staticClass:"operate-top-card",attrs:{shadow:"never"}},[r("i",{staticClass:"el-icon-s-order",staticStyle:{"font-size":"18px","margin-right":"3px"}}),r("span",[e._v("订单列表")])]),r("div",{staticClass:"table-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{label:"序号",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1+(e.listQuery.pageNum-1)*e.listQuery.pageSize))]}}])}),r("el-table-column",{attrs:{label:"订单编号",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderSn))]}}])}),r("el-table-column",{attrs:{label:"用户账号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memberUsername))]}}])}),r("el-table-column",{attrs:{label:"下单时间",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderTime))]}}])}),r("el-table-column",{attrs:{label:"订单金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("¥"+e._s(t.row.totalAmount))]}}])}),r("el-table-column",{attrs:{label:"支付方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatPayType")(t.row.payType)))]}}])}),r("el-table-column",{attrs:{label:"订单来源",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatSourceType")(t.row.sourceType)))]}}])}),r("el-table-column",{attrs:{label:"订单状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatStatusType")(t.row.status)))]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleLookOrder(t.$index,t.row)}}},[e._v(" 查看订单 ")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.row.status,expression:"scope.row.status === 0"}],attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleCloseOrder(t.$index,t.row)}}},[e._v("关闭订单")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:1===t.row.status,expression:"scope.row.status === 1"}],attrs:{size:"mini",type:"warning"},on:{click:function(r){return e.handleDeliveryOrder(t.$index,t.row)}}},[e._v("订单发货")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:2===t.row.status||3===t.row.status,expression:"scope.row.status === 2 || scope.row.status === 3"}],attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.handleLookLogistics(t.$index,t.row)}}},[e._v("订单跟踪")]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:4===t.row.status,expression:"scope.row.status === 4"}],attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDeleteOrder(t.$index,t.row)}}},[e._v("删除订单")])]}}])})],1)],1),r("div",{staticClass:"many-operate-container"},[r("el-select",{attrs:{size:"small",placeholder:"批量操作列表"},model:{value:e.operatesType,callback:function(t){e.operatesType=t},expression:"operatesType"}},e._l(e.operatesOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleManyOperate()}}},[e._v(" 确定 ")])],1),r("div",{staticClass:"pagination-container"},[r("el-pagination",{attrs:{"current-page":e.listQuery.pageNum,"page-sizes":[5,10,15],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),r("logistics-dialog",{model:{value:e.logisticsDialogVisible,callback:function(t){e.logisticsDialogVisible=t},expression:"logisticsDialogVisible"}}),r("el-dialog",{attrs:{title:"关闭订单",visible:e.closeOrder.dialogVisible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.closeOrder,"dialogVisible",t)}}},[r("div",[r("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入关闭订单的原因"},model:{value:e.closeOrder.content,callback:function(t){e.$set(e.closeOrder,"content",t)},expression:"closeOrder.content"}})],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.closeOrder.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleCloseOrderConfirm}},[e._v("确 定")])],1)])],1)},s=[],l=(r("96cf"),r("1da1")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"订单跟踪",visible:e.visible,"before-close":e.handleClose,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[r("el-steps",{attrs:{direction:"vertical",active:5,"finish-status":"success",space:"60px"}},e._l(e.logisticsList,(function(e,t){return r("el-step",{key:t,attrs:{title:e.name,description:e.time}})})),1)],1)},n=[],o=(r("a9e3"),[{name:"订单已提交，等待付款",time:"2022-01-01 09:00:00 "},{name:"订单付款成功",time:"2022-01-01 09:00:00 "},{name:"在上海市进行下级地点扫描，等待付款",time:"2022-01-01 09:00:00 "},{name:"在分拨中心上海公司进行卸车扫描，等待付款",time:"2022-01-01 09:00:00 "},{name:"在上海公司进行发出扫描",time:"2022-01-01 09:00:00 "},{name:"到达目的地网点上海公司，快件将很快进行派送",time:"2022-01-01 09:00:00 "},{name:"订单已签收，期待再次为您服务",time:"2022-01-01 09:00:00 "}]),u={name:"logisticsDialog",props:{value:Boolean,logisticsListArr:Array,logisticsActive:Number},data:function(){return{logisticsList:Object.assign({},o)}},computed:{visible:{get:function(){return this.value},set:function(e){this.value=e}}},methods:{emitInput:function(e){this.$emit("input",e)},handleClose:function(){this.emitInput(!1)}}},c=u,d=r("2877"),p=Object(d["a"])(c,a,n,!1,null,"1909d8c5",null),f=p.exports,h=r("f4e0"),m={pageNum:1,pageSize:10,orderSn:null,status:null,orderType:null,sourceType:null,orderTime:null,receiverName:null},v={name:"index",data:function(){return{listQuery:Object.assign({},m),statusOptions:[{label:"待付款",value:0},{label:"待发货",value:1},{label:"已发货",value:2},{label:"已完成",value:3},{label:"已关闭",value:4},{label:"无效订单",value:5}],orderTypeOptions:[{label:"正常订单",value:0},{label:"活动订单",value:1}],sourceTypeOptions:[{label:"PC订单",value:0},{label:"APP订单",value:1}],operatesOptions:[{label:"批量发货",value:1},{label:"关闭订单",value:2},{label:"删除订单",value:3}],list:[],total:null,listLoading:!1,logisticsDialogVisible:!1,closeOrder:{dialogVisible:!1,content:null,orderIds:[]},operatesType:null,multipleSelection:[]}},components:{LogisticsDialog:f},created:function(){this.getList()},methods:{handleLookLogistics:function(e,t){this.logisticsDialogVisible=!0},handleSearchList:function(){this.listQuery.pageNum=1,this.getList()},handleResetSearch:function(){this.listQuery=Object.assign({},m),this.getList()},getList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["e"])(e.listQuery);case 2:r=t.sent,r&&1===r.status&&(e.list=r.data.list,e.total=r.data.total);case 4:case"end":return t.stop()}}),t)})))()},handleSelectionChange:function(e){this.multipleSelection=e},handleLookOrder:function(e,t){this.$router.push({path:"/om/detail",query:{id:t.id}})},handleCloseOrder:function(e,t){this.closeOrder.dialogVisible=!0,this.closeOrder.orderIds=[t.id]},handleCloseOrderConfirm:function(){var e=this;null!==this.closeOrder.content&&""!==this.closeOrder.content?Object(h["a"])({ids:this.closeOrder.orderIds,note:this.closeOrder.content}).then((function(t){1===t.status&&(e.closeOrder.orderIds=[],e.closeOrder.dialogVisible=!1,e.getList(),e.$message({message:"关闭订单成功!",type:"success",duration:1e3}))})).catch((function(t){e.$message({message:t.msg,type:"error",duration:1e3})})):this.$message({message:"关闭订单的理由不能为空!",type:"warning",duration:1e3})},handleSizeChange:function(e){this.listQuery.pageNum=1,this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getList()},handleDeliveryOrder:function(e,t){var r=this.dealProductOrder(t);this.$router.push({path:"/om/deliver",query:{listData:[r]}})},handleDeleteOrder:function(e,t){var r=[];r.push(t.id),this.deleteOrder(r)},deleteOrder:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["b"])({ids:e}).then((function(e){1===e.status&&(t.getList(),t.$message({message:"删除订单成功!",type:"success",duration:1e3}))})).catch((function(e){t.$message({message:e.msg,type:"error",duration:1e3})}))}))},handleManyOperate:function(){if(null===this.multipleSelection||this.multipleSelection.length<=0)this.$message({message:"请选择要批量操作的订单!",type:"warning",duration:1e3});else if(1===this.operatesType){for(var e=[],t=0;t<this.multipleSelection.length;t++){var r=this.multipleSelection[t];1===r.status&&e.push(this.dealProductOrder(r))}if(0===e.length)return void this.$message({message:"选中的订单中没有要进行发货的!",type:"warning",duration:1e3});this.$router.push({path:"/om/deliver",query:{listData:e}})}else if(2===this.operatesType){for(var i=0;i<this.multipleSelection.length;i++)4!==this.multipleSelection[i].status&&this.closeOrder.orderIds.push(this.multipleSelection[i].id);this.closeOrder.dialogVisible=!0}else if(3===this.operatesType){for(var s=[],l=0;l<this.multipleSelection.length;l++)s.push(this.multipleSelection[l].id);this.deleteOrder(s)}else this.$message({message:"请选择要批量操作的行为!",type:"warning",duration:1e3})},dealProductOrder:function(e){return{orderId:e.id,orderSn:e.orderSn,receiverName:e.receiverName,receiverPhone:e.receiverPhone,receiverPostCode:e.receiverPostCode,address:e.receiverProvince+e.receiverCity+e.receiverRegion+e.receiverDetailAddress,deliveryCompany:null,deliverySn:null}}},filters:{formatPayType:function(e){return 1===e?"支付宝":2===e?"微信":"未支付"},formatSourceType:function(e){return 0===e?"PC订单":1===e?"APP订单":"其它订单"},formatStatusType:function(e){return 0===e?"待付款":1===e?"待发货":2===e?"已发货":3===e?"已完成":4===e?"已关闭":5===e?"无效订单":void 0}}},g=v,y=Object(d["a"])(g,i,s,!1,null,"59f32d09",null);t["default"]=y.exports},7156:function(e,t,r){var i=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var l,a;return s&&"function"==typeof(l=t.constructor)&&l!==r&&i(a=l.prototype)&&a!==r.prototype&&s(e,a),e}},a9e3:function(e,t,r){"use strict";var i=r("83ab"),s=r("da84"),l=r("94ca"),a=r("6eeb"),n=r("5135"),o=r("c6b6"),u=r("7156"),c=r("c04e"),d=r("d039"),p=r("7c73"),f=r("241c").f,h=r("06cf").f,m=r("9bf2").f,v=r("58a8").trim,g="Number",y=s[g],b=y.prototype,_=o(p(b))==g,w=function(e){var t,r,i,s,l,a,n,o,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=v(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+u}for(l=u.slice(2),a=l.length,n=0;n<a;n++)if(o=l.charCodeAt(n),o<48||o>s)return NaN;return parseInt(l,i)}return+u};if(l(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var O,S=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof S&&(_?d((function(){b.valueOf.call(r)})):o(r)!=g)?u(new y(w(t)),r,S):w(t)},k=i?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)n(y,O=k[x])&&!n(S,O)&&m(S,O,h(y,O));S.prototype=b,b.constructor=S,a(s,g,S)}},f4e0:function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return o}));var i=r("365c"),s=function(e){return Object(i["a"])("/api/auth/order/get_order_list",e,"post")},l=function(e){return Object(i["a"])("/api/auth/order/delivery_order",e,"post")},a=function(e){return Object(i["a"])("/api/auth/order/close_order",e,"post")},n=function(e){return Object(i["a"])("/api/auth/order/delete_order",e,"post")},o=function(e){return Object(i["a"])("/api/auth/order/get_order_by_id",e,"post")}}}]);
//# sourceMappingURL=chunk-c980b37a.a1f336bf.js.map