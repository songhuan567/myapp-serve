{"version":3,"sources":["webpack:///./src/api/categoryApi.js","webpack:///./src/api/productApi.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/pm/product/index.vue?6177","webpack:///src/views/pm/product/index.vue","webpack:///./src/views/pm/product/index.vue?3720","webpack:///./src/views/pm/product/index.vue"],"names":["addCategory","category","ajax","getCategory","parent_id","page_num","page_size","delCategory","id","updateCategory","getCategoryId","getCategoryWithChildren","addProduct","product","getProductList","queryList","delOneProduct","updateProductWithList","updateProductWithListMany","deleteProductWithListMany","getProductById","editProductById","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","on","handleResetSearch","handleSearchList","ref","listQuery","model","value","callback","$$v","$set","expression","productCateOptions","expandTrigger","productCateValue","_l","item","key","label","$event","$router","push","directives","name","rawName","listData","handleSelectionChange","scopedSlots","_u","fn","scope","_s","$index","pageNum","pageSize","row","pic","originalPrice","price","productSn","handlePublishStatusChange","handleNewStatusChange","handleRecommendStatusChange","sale","store","handleUpdate","handleDelete","operatesType","handleManyOperate","total","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-388f420a.1b56aa6e.js","sourcesContent":["import ajax from './index'\r\n\r\n// 1. 上传分类\r\nexport const addCategory = (category)=> ajax('/api/auth/category/add_category', category, 'post');\r\n\r\n// 2. 获取分类列表\r\nexport const getCategory = (parent_id, page_num, page_size)=> ajax('/api/auth/category/get_category', {parent_id, page_num, page_size}, 'post');\r\n\r\n// 3. 删除分类\r\nexport const delCategory = (id)=> ajax('/api/auth/category/del_category', {id}, 'post');\r\n\r\n// 4. 编辑分类\r\nexport const updateCategory = (category)=> ajax('/api/auth/category/update_category', category, 'post');\r\n\r\n// 5. 根据id获取一条分类\r\nexport const getCategoryId = (id)=> ajax('/api/auth/category/get_category_by_id', {id}, 'post');\r\n\r\n\r\n// 5. 根据id获取一条分类\r\nexport const getCategoryWithChildren = ()=> ajax('/api/auth/category/get_category_with_children');\r\n\r\n","import ajax from './index'\r\n\r\n// 1. 添加一个商品\r\nexport const addProduct = (product)=> ajax('/api/auth/product/add_product', product, 'post');\r\n\r\n// 2. 获取商品列表\r\nexport const getProductList = (queryList)=> ajax('/api/auth/product/get_product', queryList, 'post');\r\n\r\n// 3. 删除一个商品\r\nexport const delOneProduct = (id)=> ajax('/api/auth/product/del_one_product', {id}, 'post');\r\n\r\n// 4. 局部列表更新\r\nexport const updateProductWithList = (product)=> ajax('/api/auth/product/update_product_local', product, 'post');\r\n\r\n\r\n// 5. 批量更新列表数据\r\nexport const updateProductWithListMany = (product)=> ajax('/api/auth/product/update_list_many', product, 'post');\r\n\r\n// 6. 批量删除列表数据\r\nexport const deleteProductWithListMany = (product)=> ajax('/api/auth/product/delete_list_many', product, 'post');\r\n\r\n\r\n// 7. 获取商品的完整信息\r\nexport const getProductById = (id)=> ajax('/api/auth/product/get_product_by_id', id, 'post');\r\n\r\n// 8. 根据id去修改商品的完整信息\r\nexport const editProductById = (product)=> ajax('/api/auth/product/edit_product_by_id', product, 'post');\r\n\r\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"operate-top-card\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"3px\"}}),_c('span',[_vm._v(\"筛选搜索\")]),_c('el-button',{staticClass:\"btn-clear\",staticStyle:{\"float\":\"right\"},attrs:{\"size\":\"mini\"},on:{\"click\":_vm.handleResetSearch}},[_vm._v(\" 清空 \")]),_c('el-button',{staticClass:\"btn-find\",staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleSearchList}},[_vm._v(\" 查询 \")])],1),_c('div',{staticStyle:{\"margin-top\":\"50px\"}},[_c('el-form',{ref:\"productCateForm\",attrs:{\"model\":_vm.listQuery,\"label-width\":\"150px\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"商品货号:\"}},[_c('el-input',{model:{value:(_vm.listQuery.productSn),callback:function ($$v) {_vm.$set(_vm.listQuery, \"productSn\", $$v)},expression:\"listQuery.productSn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品所属分类:\"}},[_c('el-cascader',{attrs:{\"options\":_vm.productCateOptions,\"props\":{ expandTrigger: 'hover' }},model:{value:(_vm.productCateValue),callback:function ($$v) {_vm.productCateValue=$$v},expression:\"productCateValue\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上架状态:\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择商品是否上架\"},model:{value:(_vm.listQuery.publishStatus),callback:function ($$v) {_vm.$set(_vm.listQuery, \"publishStatus\", $$v)},expression:\"listQuery.publishStatus\"}},_vm._l((_vm.publishStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"placeholder\":\"请输入商品的名称\"},model:{value:(_vm.listQuery.name),callback:function ($$v) {_vm.$set(_vm.listQuery, \"name\", $$v)},expression:\"listQuery.name\"}})],1)],1)],1)]),_c('div',[_c('el-card',{staticClass:\"operate-top-card\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-s-order\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"3px\"}}),_c('span',[_vm._v(\"商品列表\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$router.push('/pm/addProduct')}}},[_vm._v(\"添加\")])],1),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((scope.$index + 1) + ((_vm.listQuery.pageNum-1)* _vm.listQuery.pageSize)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"120px\"},attrs:{\"src\":scope.row.pic,\"alt\":\"\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_c('el-table-column',{attrs:{\"label\":\"价格/货号\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(\"市场价: \"+_vm._s(scope.row.originalPrice))]),_c('p',[_vm._v(\"商品售价: \"+_vm._s(scope.row.price))]),_c('p',[_vm._v(\"货号: \"+_vm._s(scope.row.productSn))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(\" 上架: \"),_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handlePublishStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.publishStatus),callback:function ($$v) {_vm.$set(scope.row, \"publishStatus\", $$v)},expression:\"scope.row.publishStatus\"}})],1),_c('p',[_vm._v(\" 新品: \"),_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleNewStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.newsStatus),callback:function ($$v) {_vm.$set(scope.row, \"newsStatus\", $$v)},expression:\"scope.row.newsStatus\"}})],1),_c('p',[_vm._v(\" 推荐: \"),_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleRecommendStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.recommendStatus),callback:function ($$v) {_vm.$set(scope.row, \"recommendStatus\", $$v)},expression:\"scope.row.recommendStatus\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"销量\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.sale ? scope.row.sale : '暂无统计'))]}}])}),_c('el-table-column',{attrs:{\"label\":\"存量\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.store))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('div',{staticClass:\"many-operate-container\"},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"批量操作列表\"},model:{value:(_vm.operatesType),callback:function ($$v) {_vm.operatesType=$$v},expression:\"operatesType\"}},_vm._l((_vm.operates),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleManyOperate()}}},[_vm._v(\" 确定 \")])],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[5, 10, 15],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-container\">\r\n        <!--头部区域-->\r\n        <el-card class=\"operate-top-card\" shadow=\"never\">\r\n            <div>\r\n                <i class=\"el-icon-search\" style=\"font-size: 18px; margin-right: 3px;\"></i>\r\n                <span>筛选搜索</span>\r\n                <el-button\r\n                    class=\"btn-clear\"\r\n                    size=\"mini\"\r\n                    style=\"float: right\"\r\n                    @click=\"handleResetSearch\"\r\n                >\r\n                    清空\r\n                </el-button>\r\n                <el-button\r\n                    class=\"btn-find\"\r\n                    size=\"mini\"\r\n                    type=\"primary\"\r\n                    style=\"float: right; margin-right: 10px;\"\r\n                    @click=\"handleSearchList\"\r\n                >\r\n                    查询\r\n                </el-button>\r\n            </div>\r\n            <div style=\"margin-top: 50px;\">\r\n                <el-form\r\n                    ref=\"productCateForm\"\r\n                    :model=\"listQuery\"\r\n                    label-width=\"150px\"\r\n                    :inline=\"true\"\r\n                >\r\n                    <el-form-item label=\"商品货号:\">\r\n                        <el-input v-model=\"listQuery.productSn\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品所属分类:\">\r\n                        <el-cascader\r\n                            v-model=\"productCateValue\"\r\n                            :options=\"productCateOptions\"\r\n                            :props=\"{ expandTrigger: 'hover' }\"\r\n                        >\r\n                        </el-cascader>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"上架状态:\">\r\n                        <el-select v-model=\"listQuery.publishStatus\" placeholder=\"请选择商品是否上架\">\r\n                            <el-option\r\n                                    v-for=\"item in publishStatusOptions\"\r\n                                    :key=\"item.value\"\r\n                                    :label=\"item.label\"\r\n                                    :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"商品名称：\">\r\n                        <el-input\r\n                                v-model=\"listQuery.name\"\r\n                                placeholder=\"请输入商品的名称\"\r\n                                style=\"width: 400px\"\r\n                        >\r\n\r\n                        </el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </el-card>\r\n        <div>\r\n            <!--头部区域-->\r\n            <el-card class=\"operate-top-card\" shadow=\"never\">\r\n                <i class=\"el-icon-s-order\" style=\"font-size: 18px; margin-right: 3px;\"></i>\r\n                <span>商品列表</span>\r\n                <el-button class=\"btn-add\" size=\"mini\" @click=\"$router.push('/pm/addProduct')\">添加</el-button>\r\n            </el-card>\r\n            <!--内容区域-->\r\n            <div class=\"table-container\">\r\n                <el-table\r\n                        ref=\"multipleTable\"\r\n                        :data=\"listData\"\r\n                        v-loading=\"listLoading\"\r\n                        border\r\n                        style=\"width: 100%\"\r\n                        @selection-change=\"handleSelectionChange\"\r\n                >\r\n                    <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n                    <el-table-column label=\"编号\" width=\"100\" align=\"center\">\r\n                        <template slot-scope=\"scope\">{{(scope.$index + 1) + ((listQuery.pageNum-1)* listQuery.pageSize)}}</template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"商品图片\"  width=\"160\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <img :src=\"scope.row.pic\" alt=\"\" style=\"width: 120px;\">\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"商品名称\" align=\"center\">\r\n                        <template slot-scope=\"scope\">{{scope.row.name}}</template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"价格/货号\"  width=\"150\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <p>市场价: {{scope.row.originalPrice}}</p>\r\n                            <p>商品售价: {{scope.row.price}}</p>\r\n                            <p>货号: {{scope.row.productSn}}</p>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\"  width=\"130\" align=\"center\">\r\n                        <template slot-scope=\"scope\">\r\n                            <p>\r\n                                上架:\r\n                                <el-switch\r\n                                    v-model=\"scope.row.publishStatus\"\r\n                                    :active-value=\"1\"\r\n                                    :inactive-value=\"0\"\r\n                                    @change=\"handlePublishStatusChange(scope.$index, scope.row)\"\r\n                                >\r\n                                </el-switch>\r\n                            </p>\r\n                            <p>\r\n                                新品:\r\n                                <el-switch\r\n                                    :active-value=\"1\"\r\n                                    :inactive-value=\"0\"\r\n                                    v-model=\"scope.row.newsStatus\"\r\n                                    @change=\"handleNewStatusChange(scope.$index, scope.row)\"\r\n                                >\r\n                                </el-switch>\r\n                            </p>\r\n                            <p>\r\n                                推荐:\r\n                                <el-switch\r\n                                    :active-value=\"1\"\r\n                                    :inactive-value=\"0\"\r\n                                    v-model=\"scope.row.recommendStatus\"\r\n                                    @change=\"handleRecommendStatusChange(scope.$index, scope.row)\"\r\n                                >\r\n                                </el-switch>\r\n                            </p>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"销量\"  width=\"100\" align=\"center\">\r\n                        <template slot-scope=\"scope\">{{scope.row.sale ? scope.row.sale : '暂无统计'}}</template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"存量\" align=\"center\" width=\"100\">\r\n                        <template slot-scope=\"scope\">{{scope.row.store}}</template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" align=\"center\" width=\"150\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                 size=\"mini\"\r\n                                 @click=\"handleUpdate(scope.$index, scope.row)\"\r\n                            >\r\n                                编辑\r\n                            </el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\"\r\n                            >删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n            <!--批量-->\r\n            <div class=\"many-operate-container\">\r\n                <el-select\r\n                  size=\"small\"\r\n                  placeholder=\"批量操作列表\"\r\n                  v-model=\"operatesType\"\r\n                >\r\n                    <el-option\r\n                        v-for=\"item in operates\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\"\r\n                    />\r\n                </el-select>\r\n                <el-button\r\n                    style=\"margin-left: 10px;\"\r\n                    size=\"mini\"\r\n                    type=\"danger\"\r\n                    @click=\"handleManyOperate()\"\r\n                >\r\n                    确定\r\n                </el-button>\r\n            </div>\r\n            <!--分页-->\r\n            <div class=\"pagination-container\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"listQuery.pageNum\"\r\n                        :page-sizes=\"[5, 10, 15]\"\r\n                        :page-size=\"listQuery.pageSize\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // 1. 引入接口\r\n    import {getProductList, delOneProduct, updateProductWithList, updateProductWithListMany, deleteProductWithListMany} from './../../../api/productApi'\r\n    import {getCategoryWithChildren} from './../../../api/categoryApi';\r\n\r\n    const defaultQuery = {\r\n        productSn: null , // 商品货号\r\n        productCategoryId: null, // 商品所属分类\r\n        publishStatus: null, // 上架状态\r\n        name: null,  // 商品名称\r\n        pageNum: 1,\r\n        pageSize: 5\r\n    };\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data(){\r\n            return {\r\n                listQuery: Object.assign({}, defaultQuery),\r\n                // 分类列表\r\n                productCateOptions: [],\r\n                // 选中分类的数据\r\n                productCateValue: [],\r\n                // 商品是否上架\r\n                publishStatusOptions: [\r\n                    {value: 1, label: '上架'},\r\n                    {value: 0, label: '下架'},\r\n                ],\r\n                // 表格数据\r\n                listData: [\r\n                  /*  {\r\n                        id: 1,\r\n                        pic: 'https://img.ddimg.mobi/product/11c9a477691191555502515839.jpg',\r\n                        name: '鲜活黄鳝2条 300g以上',\r\n                        price: 23.32,\r\n                        productSn: 'LK0001',\r\n                        publishStatus: 1,\r\n                        newsStatus: 1,\r\n                        recommendStatus: 1,\r\n                        sort: 1,\r\n                        sale: 1000,\r\n                        count: 10000\r\n                    },\r\n                    {\r\n                        id: 2,\r\n                        pic: 'https://img.ddimg.mobi/product/73729284b788d1558072397291.jpg',\r\n                        name: '康师傅大食代红烧牛肉面 5包/袋',\r\n                        price: 23.32,\r\n                        productSn: 'LK0002',\r\n                        publishStatus: 1,\r\n                        newsStatus: 1,\r\n                        recommendStatus: 1,\r\n                        sort: 1,\r\n                        sale: 1000,\r\n                        count: 10000\r\n                    }*/\r\n                ],\r\n                // 表格加载动画\r\n                listLoading: false,\r\n                // 列表的总条数\r\n                total: 0,\r\n                multipleSelection: [],\r\n                // 批量操作的选项\r\n                operates: [\r\n                    {\r\n                        label: \"批量上架\",\r\n                        value: 'publishOn'\r\n                    },\r\n                    {\r\n                        label: \"批量下架\",\r\n                        value: 'publishOff'\r\n                    },\r\n                    {\r\n                        label: \"批量推荐\",\r\n                        value: 'recommendOn'\r\n                    },\r\n                    {\r\n                        label: \"批量取消推荐\",\r\n                        value: 'recommendOff'\r\n                    },\r\n                    {\r\n                        label: \"批量上新\",\r\n                        value: 'newsOn'\r\n                    },\r\n                    {\r\n                        label: \"批量下新\",\r\n                        value: 'newsOff'\r\n                    },\r\n                    {\r\n                        label: \"批量删除\",\r\n                        value: 'manyDel'\r\n                    }\r\n                ],\r\n                operatesType: null\r\n            }\r\n        },\r\n        created(){\r\n            // 0. 获取分类数据\r\n            this.getCategoryList();\r\n            // 1. 获取商品列表\r\n            this.getList();\r\n        },\r\n        watch: {\r\n            productCateValue(newValue){\r\n                if(newValue.length === 1){ // 一级\r\n                    this.listQuery.productCategoryId = newValue[0]\r\n                }else if(newValue.length === 2){ // 二级\r\n                    this.listQuery.productCategoryId = newValue[1];\r\n                }else {\r\n                    this.listQuery.productCategoryId = null;\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            // 0. 获取分类数据\r\n            getCategoryList(){\r\n                getCategoryWithChildren().then((response) => {\r\n                    if (response.status === 1) {\r\n                        let listArr = response.data;\r\n                        this.productCateOptions = [];\r\n                        for (let i = 0; i < listArr.length; i++) {\r\n                            let children = [];\r\n                            // 有二级\r\n                            if(listArr[i].children != null && listArr[i].children.length>0){\r\n                                for(let j=0; j<listArr[i].children.length; j++){\r\n                                    children.push({value: listArr[i].children[j].id, label: listArr[i].children[j].name});\r\n                                }\r\n                            }\r\n                            children = children.length > 0 ? children : null;\r\n                            this.productCateOptions.push({\r\n                                label: listArr[i].name,\r\n                                value: listArr[i].id,\r\n                                children: children\r\n                            })\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            // 1. 获取商品列表\r\n            getList(){\r\n               this.listLoading = true;\r\n               getProductList(this.listQuery).then((response)=>{\r\n                    if(response.status === 1){\r\n                        this.listLoading = false;\r\n                        this.listData = response.data.product_list;\r\n                        this.total = response.data.product_count;\r\n                    }\r\n               });\r\n            },\r\n            // 2. 改变每页显示的条数\r\n            handleSizeChange(val) {\r\n                // console.log(`每页 ${val} 条`);\r\n                this.listQuery.pageNum = 1;\r\n                this.listQuery.pageSize = val;\r\n                // 重新加载数据\r\n                this.getList();\r\n            },\r\n            // 3. 当前页码发生改变\r\n            handleCurrentChange(val) {\r\n                // console.log(`当前页: ${val}`);\r\n                this.listQuery.pageNum = val;\r\n                // 重新加载数据\r\n                this.getList();\r\n            },\r\n            // 4. 删除一个商品\r\n            handleDelete(index, row){\r\n                this.$confirm('确定要删除该商品及相关信息, 是否继续?', '小撩温馨提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    delOneProduct(row.id).then(response => {\r\n                        if(response.status === 1){\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: '删除成功!'\r\n                            });\r\n                            if(this.total <= this.listQuery.pageSize){\r\n                                this.listQuery.pageNum = 1;\r\n                            }\r\n                            this.getList();\r\n                        }else {\r\n                            this.$message({\r\n                                type: 'error',\r\n                                message: '删除失败!'\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            // 5. 编辑一个商品\r\n            handleUpdate(index, row){\r\n                this.$router.push({\r\n                   path: '/pm/updateProduct',\r\n                   query: {id: row.id}\r\n                });\r\n            },\r\n            // 6. 商品上架和取消上架\r\n            handlePublishStatusChange(index, row){\r\n                this.localUpdateProduct({\r\n                    id: row.id,\r\n                    publishStatus: row.publishStatus\r\n                })\r\n            },\r\n            // 7. 是否新品\r\n            handleNewStatusChange(index, row){\r\n                this.localUpdateProduct({\r\n                    id: row.id,\r\n                    newsStatus: row.newsStatus\r\n                })\r\n            },\r\n            // 8. 是否推荐\r\n            handleRecommendStatusChange(index, row){\r\n                this.localUpdateProduct({\r\n                    id: row.id,\r\n                    recommendStatus: row.recommendStatus\r\n                })\r\n            },\r\n            // 局部更新列表数据\r\n            localUpdateProduct(paramsObj){\r\n                 updateProductWithList(paramsObj).then((response)=>{\r\n                     if(response.status === 1){\r\n                         this.$message({\r\n                             type: 'success',\r\n                             message: response.msg\r\n                         });\r\n                     }else {\r\n                         this.$message({\r\n                             type: 'error',\r\n                             message: response.msg\r\n                         });\r\n                     }\r\n                 });\r\n            },\r\n            // 9. 根据条件查询列表\r\n            handleSearchList(){\r\n                this.listQuery.pageNum = 1;\r\n                this.getList();\r\n            },\r\n            // 10. 清空查询列表\r\n            handleResetSearch(){\r\n                this.productCateValue = [];\r\n                this.listQuery = Object.assign({}, defaultQuery);\r\n            },\r\n            // 9. 批量操作\r\n            handleManyOperate(){\r\n               // 9.1 批量操作的选项\r\n               if(this.operatesType === null){\r\n                   this.$message({\r\n                       message: '请选择批量操作的选项',\r\n                       type: 'warning',\r\n                       duration: 1000\r\n                   });\r\n                   return ;\r\n               }\r\n               // 9.2 判断是否有选中的记录\r\n                if(this.multipleSelection === null || this.multipleSelection.length < 1){\r\n                    this.$message({\r\n                        message: '请选择要操作的商品',\r\n                        type: 'warning',\r\n                        duration: 1000\r\n                    });\r\n                    return ;\r\n                }\r\n                // 9.3 提示用户是否进行批量操作\r\n                this.$confirm('是否进行批量操作', '小撩温馨提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    // 9.4 取出所有的id\r\n                    let ids = [];\r\n                    for(let i=0; i<this.multipleSelection.length; i++){\r\n                        ids.push(this.multipleSelection[i].id);\r\n                    }\r\n                    // console.log(ids, this.operatesType);\r\n\r\n                    switch (this.operatesType) {\r\n                        case this.operates[0].value:\r\n                             this.updatePublishStatus(1, ids);\r\n                             break;\r\n                        case this.operates[1].value:\r\n                            this.updatePublishStatus(0, ids);\r\n                            break;\r\n                        case this.operates[2].value:\r\n                            this.updateRecommendStatus(1, ids);\r\n                            break;\r\n                        case this.operates[3].value:\r\n                            this.updateRecommendStatus(0, ids);\r\n                            break;\r\n                        case this.operates[4].value:\r\n                            this.updateNewsStatus(1, ids);\r\n                            break;\r\n                        case this.operates[5].value:\r\n                            this.updateNewsStatus(0, ids);\r\n                            break;\r\n                        case this.operates[6].value:\r\n                            this.updateDeleteStatus(ids);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消'\r\n                    });\r\n                });\r\n            },\r\n\r\n            // 上架和下架\r\n            updatePublishStatus(status, ids){\r\n                let params = {};\r\n                params.ids = ids;\r\n                params.publishStatus = status;\r\n                updateProductWithListMany(params).then(response => {\r\n                   if(response.status === 1){\r\n                       this.$message({\r\n                           type: 'success',\r\n                           message: '修改成功',\r\n                           duration: 1000\r\n                       });\r\n                       // 重新加载数据\r\n                       this.getList();\r\n                   }\r\n                });\r\n            },\r\n\r\n            // 推荐和取消推荐\r\n            updateRecommendStatus(status, ids){\r\n                let params = {};\r\n                params.ids = ids;\r\n                params.recommendStatus = status;\r\n                updateProductWithListMany(params).then(response => {\r\n                    if(response.status === 1){\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '修改成功',\r\n                            duration: 1000\r\n                        });\r\n                        // 重新加载数据\r\n                        this.getList();\r\n                    }\r\n                });\r\n            },\r\n\r\n            // 上新和取消上新\r\n            updateNewsStatus(status, ids){\r\n                let params = {};\r\n                params.ids = ids;\r\n                params.newsStatus = status;\r\n                updateProductWithListMany(params).then(response => {\r\n                    if(response.status === 1){\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '修改成功',\r\n                            duration: 1000\r\n                        });\r\n                        // 重新加载数据\r\n                        this.getList();\r\n                    }\r\n                });\r\n            },\r\n\r\n            // 删除\r\n            updateDeleteStatus(ids){\r\n                let params = {};\r\n                params.ids = ids;\r\n                deleteProductWithListMany(params).then(response => {\r\n                    if(response.status === 1){\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '批量删除成功',\r\n                            duration: 1000\r\n                        });\r\n                        // 重新加载数据\r\n                        this.getList();\r\n                    }\r\n                });\r\n            },\r\n\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e9bdd84c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9bdd84c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}