{"version":3,"sources":["webpack:///./src/views/pm/productCategory/components/ProductCateAddOrEdit.vue?eafa","webpack:///./src/components/upload/singleUpload.vue?2960","webpack:///src/components/upload/singleUpload.vue","webpack:///./src/components/upload/singleUpload.vue?a833","webpack:///./src/components/upload/singleUpload.vue","webpack:///src/views/pm/productCategory/components/ProductCateAddOrEdit.vue","webpack:///./src/views/pm/productCategory/components/ProductCateAddOrEdit.vue?d4ac","webpack:///./src/views/pm/productCategory/components/ProductCateAddOrEdit.vue","webpack:///./src/api/categoryApi.js","webpack:///./src/views/pm/productCategory/update.vue?67e5","webpack:///src/views/pm/productCategory/update.vue","webpack:///./src/views/pm/productCategory/update.vue?b69b","webpack:///./src/views/pm/productCategory/update.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","on","$event","$router","back","ref","productCate","rules","model","value","callback","$$v","$set","expression","_l","item","key","id","name","getCategoryIcon","icon","onSubmit","onReset","staticRenderFns","uploadAction","handleRemove","handleSuccess","handleExceed","fileList","slot","component","addCategory","category","ajax","getCategory","parent_id","page_num","page_size","delCategory","updateCategory","getCategoryId","getCategoryWithChildren","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","$","lastIndexOf","target","proto","forced","toIndexedObject","toInteger","toLength","arrayMethodIsStrict","arrayMethodUsesToLength","min","Math","nativeLastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","FORCED","module","exports","searchElement","apply","arguments","O","length","index"],"mappings":"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","file":"js/chunk-412a2df3.a285bf79.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"operate-top-card\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-s-order\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"3px\"}}),_c('span',[_vm._v(\"添加商品分类\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"返回\")])],1),_c('el-card',{staticClass:\"form-container\"},[_c('el-form',{ref:\"productCateForm\",attrs:{\"model\":_vm.productCate,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称:\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.productCate.name),callback:function ($$v) {_vm.$set(_vm.productCate, \"name\", $$v)},expression:\"productCate.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上级分类:\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择上级分类\"},model:{value:(_vm.productCate.parent_id),callback:function ($$v) {_vm.$set(_vm.productCate, \"parent_id\", $$v)},expression:\"productCate.parent_id\"}},_vm._l((_vm.selectProductCateList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"数量单位:\"}},[_c('el-input',{model:{value:(_vm.productCate.product_unit),callback:function ($$v) {_vm.$set(_vm.productCate, \"product_unit\", $$v)},expression:\"productCate.product_unit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排序:\"}},[_c('el-input',{model:{value:(_vm.productCate.sort),callback:function ($$v) {_vm.$set(_vm.productCate, \"sort\", $$v)},expression:\"productCate.sort\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类是否启用:\"}},[_c('el-radio-group',{model:{value:(_vm.productCate.nav_status),callback:function ($$v) {_vm.$set(_vm.productCate, \"nav_status\", $$v)},expression:\"productCate.nav_status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"移动端显示:\"}},[_c('el-radio-group',{model:{value:(_vm.productCate.show_status),callback:function ($$v) {_vm.$set(_vm.productCate, \"show_status\", $$v)},expression:\"productCate.show_status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"分类图标:\"}},[_c('single-upload',{attrs:{\"uploadAction\":\"/manager/api/auth/category/upload_category\",\"successCallBack\":_vm.getCategoryIcon,\"icon\":_vm.productCate.icon}})],1),_c('el-form-item',{attrs:{\"label\":\"关键字:\"}},[_c('el-input',{model:{value:(_vm.productCate.keywords),callback:function ($$v) {_vm.$set(_vm.productCate, \"keywords\", $$v)},expression:\"productCate.keywords\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类描述:\"}},[_c('el-input',{model:{value:(_vm.productCate.description),callback:function ($$v) {_vm.$set(_vm.productCate, \"description\", $$v)},expression:\"productCate.description\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":function($event){return _vm.onSubmit('productCateForm')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.onReset('productCateForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{staticClass:\"upload-single\",attrs:{\"action\":_vm.uploadAction,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList,\"list-type\":\"picture\",\"multiple\":false,\"limit\":1}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-upload\r\n        class=\"upload-single\"\r\n        :action=\"uploadAction\"\r\n        :on-remove=\"handleRemove\"\r\n        :on-success=\"handleSuccess\"\r\n        :on-exceed=\"handleExceed\"\r\n        :file-list=\"fileList\"\r\n        list-type=\"picture\"\r\n        :multiple=\"false\"\r\n        :limit=\"1\"\r\n    >\r\n        <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n    </el-upload>\r\n</template>\r\n\r\n<script>\r\n    import config from './../../config/config'\r\n    export default {\r\n        name: \"singleUpload\",\r\n        props:{\r\n            // 上传服务器地址\r\n            uploadAction: {\r\n                type: String,\r\n                required: true\r\n            },\r\n            // 成功回调函数\r\n            successCallBack: {\r\n                type: Function,\r\n                required: true\r\n            },\r\n            // 分类图标\r\n            icon: String\r\n        },\r\n        data() {\r\n            return {\r\n                fileList: []\r\n            };\r\n        },\r\n        watch: {\r\n            icon(value){\r\n                console.log(value);\r\n                this.fileList.push({\r\n                    name: value.substr(value.lastIndexOf('/')+1),\r\n                    url: config.BASE_URL + value\r\n                });\r\n            }\r\n        },\r\n        methods: {\r\n            handleSuccess(response, file, fileList){\r\n                if(response.status === 1){\r\n                    this.successCallBack(response.data);\r\n                }\r\n            },\r\n            handleRemove(file, fileList) {\r\n                if(file.status === 'success'){\r\n                    this.successCallBack(null);\r\n                }\r\n            },\r\n            handleExceed(){\r\n                this.$message({\r\n                    message: '只能上传一个图标!',\r\n                    type: 'warning',\r\n                    duration: 1000\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singleUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singleUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./singleUpload.vue?vue&type=template&id=24d0184c&scoped=true&\"\nimport script from \"./singleUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./singleUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24d0184c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <el-card class=\"operate-top-card\" shadow=\"never\">\r\n            <i class=\"el-icon-s-order\" style=\"font-size: 18px; margin-right: 3px;\"></i>\r\n            <span>添加商品分类</span>\r\n            <el-button class=\"btn-add\" size=\"mini\" @click=\"$router.back()\">返回</el-button>\r\n        </el-card>\r\n        <el-card class=\"form-container\">\r\n            <el-form\r\n                    ref=\"productCateForm\"\r\n                    :model=\"productCate\"\r\n                    :rules=\"rules\"\r\n                    label-width=\"150px\"\r\n            >\r\n                <el-form-item label=\"分类名称:\" prop=\"name\">\r\n                    <el-input v-model=\"productCate.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"上级分类:\">\r\n                    <el-select v-model=\"productCate.parent_id\" placeholder=\"请选择上级分类\">\r\n                        <el-option\r\n                                v-for=\"item in selectProductCateList\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.name\"\r\n                                :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"数量单位:\">\r\n                    <el-input v-model=\"productCate.product_unit\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排序:\">\r\n                    <el-input v-model=\"productCate.sort\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类是否启用:\">\r\n                    <el-radio-group v-model=\"productCate.nav_status\">\r\n                        <el-radio :label=\"1\">是</el-radio>\r\n                        <el-radio :label=\"0\">否</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"移动端显示:\">\r\n                    <el-radio-group v-model=\"productCate.show_status\">\r\n                        <el-radio :label=\"1\">是</el-radio>\r\n                        <el-radio :label=\"0\">否</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类图标:\">\r\n                    <single-upload\r\n                        uploadAction=\"/manager/api/auth/category/upload_category\"\r\n                        :successCallBack=\"getCategoryIcon\"\r\n                        :icon=\"productCate.icon\"\r\n                    ></single-upload>\r\n                </el-form-item>\r\n                <el-form-item label=\"关键字:\">\r\n                    <el-input v-model=\"productCate.keywords\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"分类描述:\">\r\n                    <el-input v-model=\"productCate.description\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button @click=\"onSubmit('productCateForm')\">提交</el-button>\r\n                    <el-button @click=\"onReset('productCateForm')\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import SingleUpload from '@/components/upload/singleUpload'\r\n    import {getCategory, addCategory, getCategoryId, updateCategory} from './../../../../api/categoryApi'\r\n\r\n    const defaultProductCate = {\r\n        parent_id: 0, //上级分类\r\n        name: '', //分类名称\r\n        product_unit: '', //数量单位\r\n        nav_status: 1, // 分类是否启用\r\n        show_status: 1, // 移动端是否显示\r\n        sort: 1, // 排序\r\n        icon: '', // 分类图标\r\n        keywords: '', // 关键字\r\n        description: '' // 分类描述\r\n    };\r\n\r\n    export default {\r\n        name: \"ProductCateAddOrEdit\",\r\n        props: {\r\n            isUpdate: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        components: {\r\n            SingleUpload\r\n        },\r\n        data() {\r\n            return {\r\n                productCate: Object.assign({}, defaultProductCate),\r\n                rules: {\r\n                    name: [\r\n                        {required: true, message: '请输入分类名称', trigger: 'blur'},\r\n                        {min: 3, max: 120, message: '长度在 3 到 120 个字符', trigger: 'blur'}\r\n                    ]\r\n                },\r\n                // 上级分类数组\r\n                selectProductCateList: []\r\n            }\r\n        },\r\n        created() {\r\n            // 0. 判断\r\n            if(this.isUpdate){ // 编辑\r\n                getCategoryId(this.$route.query.id).then((response)=>{\r\n                    console.log(response);\r\n                    if(response.status === 1){\r\n                         this.productCate = response.data[0];\r\n                    }\r\n                });\r\n            }else { // 添加\r\n                this.productCate = Object.assign({}, defaultProductCate);\r\n            }\r\n            // 1. 获取分类列表\r\n            this.getProductCategoryList();\r\n        },\r\n        methods: {\r\n            // 图片上传成功 或者 删除成功\r\n            getCategoryIcon(data) {\r\n                if (data === null) { // 删除成功\r\n                    this.productCate.icon = null;\r\n                    return;\r\n                }\r\n                this.productCate.icon = data.name;\r\n            },\r\n            getProductCategoryList() {\r\n                getCategory(0, 1, 100).then(response => {\r\n                    if (response.status === 1) {\r\n                        this.selectProductCateList = response.data.category_list;\r\n                        this.selectProductCateList.unshift({id: 0, name: '无上级分类'});\r\n                    }\r\n                });\r\n            },\r\n            onSubmit(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        if(this.isUpdate){ // 编辑\r\n                            updateCategory(this.productCate).then(response=>{\r\n                                if(response.status === 1){\r\n                                    // 清空表单\r\n                                    this.onReset(formName);\r\n                                    // 提示用户\r\n                                    this.$message({\r\n                                        message: response.msg,\r\n                                        type: 'success',\r\n                                        duration: 1000\r\n                                    });\r\n                                    // 返回上级界面\r\n                                    this.$router.back();\r\n                                }else {\r\n                                    this.$message({\r\n                                        message: response.msg,\r\n                                        type: 'error',\r\n                                        duration: 1000\r\n                                    });\r\n                                }\r\n                            });\r\n                        }else { // 添加\r\n                            addCategory(this.productCate).then(response => {\r\n                                if(response.status === 1){\r\n                                    // 清空表单\r\n                                    this.onReset(formName);\r\n                                    // 提示用户\r\n                                    this.$message({\r\n                                        message: response.msg,\r\n                                        type: 'success',\r\n                                        duration: 1000\r\n                                    });\r\n                                    // 返回上级界面\r\n                                    this.$router.back();\r\n                                }else {\r\n                                    this.$message({\r\n                                        message: response.msg,\r\n                                        type: 'error',\r\n                                        duration: 1000\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.$message({\r\n                            message: '分类名称不能为空',\r\n                            type: 'error',\r\n                            duration: 1000\r\n                        });\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            onReset(formName){\r\n                this.$refs[formName].resetFields();\r\n                this.productCate = Object.assign({}, defaultProductCate);\r\n                this.getProductCategoryList();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCateAddOrEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCateAddOrEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductCateAddOrEdit.vue?vue&type=template&id=2e4dd455&scoped=true&\"\nimport script from \"./ProductCateAddOrEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductCateAddOrEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e4dd455\",\n  null\n  \n)\n\nexport default component.exports","import ajax from './index'\r\n\r\n// 1. 上传分类\r\nexport const addCategory = (category)=> ajax('/api/auth/category/add_category', category, 'post');\r\n\r\n// 2. 获取分类列表\r\nexport const getCategory = (parent_id, page_num, page_size)=> ajax('/api/auth/category/get_category', {parent_id, page_num, page_size}, 'post');\r\n\r\n// 3. 删除分类\r\nexport const delCategory = (id)=> ajax('/api/auth/category/del_category', {id}, 'post');\r\n\r\n// 4. 编辑分类\r\nexport const updateCategory = (category)=> ajax('/api/auth/category/update_category', category, 'post');\r\n\r\n// 5. 根据id获取一条分类\r\nexport const getCategoryId = (id)=> ajax('/api/auth/category/get_category_by_id', {id}, 'post');\r\n\r\n\r\n// 5. 根据id获取一条分类\r\nexport const getCategoryWithChildren = ()=> ajax('/api/auth/category/get_category_with_children');\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('product-cate-add-edit',{attrs:{\"is-update\":true}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <product-cate-add-edit :is-update=\"true\"></product-cate-add-edit>\r\n</template>\r\n\r\n<script>\r\n    import ProductCateAddEdit from './components/ProductCateAddOrEdit'\r\n    export default {\r\n        name: \"update\",\r\n        components: {ProductCateAddEdit}\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./update.vue?vue&type=template&id=42cee87b&scoped=true&\"\nimport script from \"./update.vue?vue&type=script&lang=js&\"\nexport * from \"./update.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42cee87b\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}