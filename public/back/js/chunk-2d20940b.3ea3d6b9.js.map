{"version":3,"sources":["webpack:///./src/views/um/role/index.vue?4fed","webpack:///src/views/um/role/index.vue","webpack:///./src/views/um/role/index.vue?8506","webpack:///./src/views/um/role/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","on","$event","handleAdd","directives","name","rawName","value","expression","listData","scopedSlots","_u","key","fn","scope","_s","$index","listQuery","pageNum","pageSize","row","description","_f","createTime","handleShowStatusChange","model","callback","$$v","$set","handleSelectMenu","handleUpdate","handleDelete","total","handleSizeChange","handleCurrentChange","isEdit","dialogVisible","ref","role","slot","handleDialogConfirm","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d20940b.3ea3d6b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"operate-top-card\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-s-order\",staticStyle:{\"font-size\":\"18px\",\"margin-right\":\"3px\"}}),_c('span',[_vm._v(\"角色列表\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleAdd()}}},[_vm._v(\"添加\")])],1),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s((scope.$index + 1) + ((_vm.listQuery.pageNum-1)* _vm.listQuery.pageSize))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.name))]}}])}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.description))]}}])}),_c('el-table-column',{attrs:{\"label\":\"添加时间\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"timeFormat\")(scope.row.createTime)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否启用\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleShowStatusChange(scope.$index, scope.row)}},model:{value:(scope.row.status),callback:function ($$v) {_vm.$set(scope.row, \"status\", $$v)},expression:\"scope.row.status\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleSelectMenu(scope.$index, scope.row)}}},[_vm._v(\"分配菜单 \")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\"编辑 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\" 删除 \")])]}}])})],1)],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[5, 10, 15],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.isEdit ? '编辑角色' : '添加角色',\"visible\":_vm.dialogVisible,\"width\":\"40%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.role,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称: \",\"prop\":\"pass\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"text\"},model:{value:(_vm.role.name),callback:function ($$v) {_vm.$set(_vm.role, \"name\", $$v)},expression:\"role.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述: \",\"prop\":\"checkPass\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"textarea\",\"row\":5},model:{value:(_vm.role.description),callback:function ($$v) {_vm.$set(_vm.role, \"description\", $$v)},expression:\"role.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用: \",\"prop\":\"age\"}},[_c('el-radio-group',{model:{value:(_vm.role.status),callback:function ($$v) {_vm.$set(_vm.role, \"status\", $$v)},expression:\"role.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDialogConfirm()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--头部区域-->\r\n        <el-card class=\"operate-top-card\" shadow=\"never\">\r\n            <i class=\"el-icon-s-order\" style=\"font-size: 18px; margin-right: 3px;\"></i>\r\n            <span>角色列表</span>\r\n            <el-button class=\"btn-add\" size=\"mini\" @click=\"handleAdd()\">添加</el-button>\r\n        </el-card>\r\n        <!--内容区域-->\r\n        <div class=\"table-container\">\r\n            <el-table\r\n                    :data=\"listData\"\r\n                    v-loading=\"listLoading\"\r\n                    border\r\n                    style=\"width: 100%\"\r\n            >\r\n                <el-table-column label=\"编号\" width=\"100\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{(scope.$index + 1) + ((listQuery.pageNum-1)* listQuery.pageSize)}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"角色名称\" width=\"200\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.name}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"角色描述\" width=\"200\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.description}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"添加时间\" width=\"200\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.createTime | timeFormat}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"是否启用\" width=\"100\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-switch\r\n                                @change=\"handleShowStatusChange(scope.$index, scope.row)\"\r\n                                v-model=\"scope.row.status\"\r\n                                :active-value=\"1\"\r\n                                :inactive-value=\"0\">\r\n                        </el-switch>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                size=\"mini\"\r\n                                @click=\"handleSelectMenu(scope.$index, scope.row)\"\r\n                        >分配菜单\r\n                        </el-button>\r\n                        <el-button\r\n                                size=\"mini\"\r\n                                @click=\"handleUpdate(scope.$index, scope.row)\"\r\n                        >编辑\r\n                        </el-button>\r\n                        <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\"\r\n                        >\r\n                            删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <!--分页-->\r\n        <div class=\"pagination-container\">\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"listQuery.pageNum\"\r\n                    :page-sizes=\"[5, 10, 15]\"\r\n                    :page-size=\"listQuery.pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n        <!--面板-->\r\n        <el-dialog\r\n            :title=\"isEdit ? '编辑角色' : '添加角色'\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"40%\"\r\n            center>\r\n            <el-form\r\n                :model=\"role\"\r\n                ref=\"ruleForm\"\r\n                label-width=\"150px\"\r\n                class=\"demo-ruleForm\"\r\n            >\r\n                <el-form-item label=\"角色名称: \" prop=\"pass\">\r\n                    <el-input type=\"text\" v-model=\"role.name\" style=\"width: 250px;\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色描述: \" prop=\"checkPass\">\r\n                    <el-input type=\"textarea\" :row=\"5\" v-model=\"role.description\" style=\"width: 250px;\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"是否启用: \" prop=\"age\">\r\n                    <el-radio-group v-model=\"role.status\">\r\n                        <el-radio :label=\"1\">是</el-radio>\r\n                        <el-radio :label=\"0\">否</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"handleDialogConfirm()\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {addRole, getRoleList, editRole, delRole} from './../../../api/adminApi'\r\n    // 1. 默认角色\r\n    const defaultRole = {\r\n        name: null,\r\n        description: null,\r\n        status: 1\r\n    };\r\n    const defaultListQuery = {\r\n        pageNum: 1,\r\n        pageSize: 5\r\n    };\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                listQuery: Object.assign({}, defaultListQuery),\r\n                listData: [\r\n                    // {id: 1, name: '超级管理员', description: '查看和操作所有功能', createTime: '2020-07-20 16:30:23', status: 1}\r\n                ],\r\n                total: null,\r\n                listLoading: false,\r\n                // 控制面板的显示和隐藏\r\n                dialogVisible: false,\r\n                role: Object.assign({}, defaultRole),\r\n                // 添加或编辑\r\n                isEdit: false,\r\n            }\r\n        },\r\n        created(){\r\n           this.getList();\r\n        },\r\n        methods: {\r\n            // 1. 添加一个角色\r\n            handleAdd() {\r\n                this.dialogVisible = true;\r\n                this.isEdit = false;\r\n                this.role =Object.assign({}, defaultRole);\r\n            },\r\n            // 2. 编辑角色\r\n            handleUpdate(index, row){\r\n                this.dialogVisible = true;\r\n                this.isEdit = true;\r\n                this.role =Object.assign({}, row);\r\n            },\r\n            // 3. 点击确认 (添加 或 编辑)\r\n            handleDialogConfirm(){\r\n                this.$confirm('是否确认该操作?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    if(this.isEdit){ // 编辑操作\r\n                        editRole(this.role).then((response)=>{\r\n                            console.log(response);\r\n                            if(response.status === 1){\r\n                                this.$message({\r\n                                    message: '修改角色成功!',\r\n                                    type: 'success',\r\n                                    duration: 1000\r\n                                });\r\n                                this.dialogVisible = false;\r\n                                this.getList();\r\n                            }else {\r\n                                this.$message({\r\n                                    message: response.msg,\r\n                                    type: 'warning',\r\n                                    duration: 1000\r\n                                });\r\n                            }\r\n                        }).catch((error)=>{\r\n                            this.$message({\r\n                                message: error.msg,\r\n                                type: 'error',\r\n                                duration: 1000\r\n                            });\r\n                        });\r\n                    }else { // 添加操作\r\n                        addRole(this.role).then((response)=>{\r\n                            console.log(response);\r\n                            if(response.status === 1){\r\n                                this.$message({\r\n                                    message: '添加角色成功!',\r\n                                    type: 'success',\r\n                                    duration: 1000\r\n                                });\r\n                                this.dialogVisible = false;\r\n                                this.getList();\r\n                            }else {\r\n                                this.$message({\r\n                                    message: response.msg,\r\n                                    type: 'warning',\r\n                                    duration: 1000\r\n                                });\r\n                            }\r\n                        }).catch((error)=>{\r\n                            this.$message({\r\n                                message: error.msg,\r\n                                type: 'error',\r\n                                duration: 1000\r\n                            });\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            // 4. 获取列表的数据\r\n            getList(){\r\n                this.listLoading = true;\r\n                getRoleList(this.listQuery).then(response=>{\r\n                    if(response && response.status === 1){\r\n                        this.listLoading = false;\r\n                        this.listData = response.data.list;\r\n                        this.total = response.data.total;\r\n                    }\r\n                })\r\n            },\r\n            // 5. 改变每页显示的条数\r\n            handleSizeChange(val) {\r\n                this.listQuery.pageNum = 1;\r\n                this.listQuery.pageSize = val;\r\n                // 重新加载数据\r\n                this.getList();\r\n            },\r\n            // 6. 当前页码发生改变\r\n            handleCurrentChange(val) {\r\n                this.listQuery.pageNum = val;\r\n                // 重新加载数据\r\n                this.getList();\r\n            },\r\n            // 7. 是否启用该角色\r\n            handleShowStatusChange(index, row){\r\n                this.$confirm('是否修改该角色的启用状态?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    editRole({id: row.id, status: row.status}).then((response)=>{\r\n                        console.log(response);\r\n                        if(response.status === 1){\r\n                            this.$message({\r\n                                message: '修改成功!',\r\n                                type: 'success',\r\n                                duration: 1000\r\n                            });\r\n                            this.getList();\r\n                        }else {\r\n                            this.$message({\r\n                                message: response.msg,\r\n                                type: 'warning',\r\n                                duration: 1000\r\n                            });\r\n                        }\r\n                    }).catch((error)=>{\r\n                        this.$message({\r\n                            message: error.msg,\r\n                            type: 'error',\r\n                            duration: 1000\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            // 8. 删除一个角色\r\n            handleDelete(index, row){\r\n                this.$confirm('是否删除该角色?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    delRole({id: row.id}).then((response)=>{\r\n                        if(response.status === 1){\r\n                            this.$message({\r\n                                message: '删除成功!',\r\n                                type: 'success',\r\n                                duration: 1000\r\n                            });\r\n                            this.getList();\r\n                        }else {\r\n                            this.$message({\r\n                                message: response.msg,\r\n                                type: 'warning',\r\n                                duration: 1000\r\n                            });\r\n                        }\r\n                    }).catch((error)=>{\r\n                        this.$message({\r\n                            message: error.msg,\r\n                            type: 'error',\r\n                            duration: 1000\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            // 9. 分配菜单\r\n            handleSelectMenu(index, row){\r\n                this.$router.push({\r\n                    path: '/um/allocMenu',\r\n                    query: {roleId: row.id}\r\n                })\r\n            }\r\n        },\r\n        filters: {\r\n            timeFormat(value){\r\n                if(value === null || value === undefined || value === ''){\r\n                    return '暂无数据';\r\n                }\r\n                return  value;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4d728148&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d728148\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}