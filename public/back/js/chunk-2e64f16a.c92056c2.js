(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e64f16a"],{"3e1b":function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),i=a("5899"),n="["+i+"]",l=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),u=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(l,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:u(1),end:u(2),trim:u(3)}},"5a34":function(e,t,a){var r=a("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"651a":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return c}));var r=a("365c"),i=function(e){return Object(r["a"])("/api/auth/category/add_category",e,"post")},n=function(e,t,a){return Object(r["a"])("/api/auth/category/get_category",{parent_id:e,page_num:t,page_size:a},"post")},l=function(e){return Object(r["a"])("/api/auth/category/del_category",{id:e},"post")},o=function(e){return Object(r["a"])("/api/auth/category/update_category",e,"post")},u=function(e){return Object(r["a"])("/api/auth/category/get_category_by_id",{id:e},"post")},c=function(){return Object(r["a"])("/api/auth/category/get_category_with_children")}},7156:function(e,t,a){var r=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var n,l;return i&&"function"==typeof(n=t.constructor)&&n!==a&&r(l=n.prototype)&&l!==a.prototype&&i(e,l),e}},"8a79":function(e,t,a){"use strict";var r=a("23e7"),i=a("06cf").f,n=a("50c4"),l=a("5a34"),o=a("1d80"),u=a("ab13"),c=a("c430"),s="".endsWith,d=Math.min,p=u("endsWith"),m=!c&&!p&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!m&&!p},{endsWith:function(e){var t=String(o(this));l(e);var a=arguments.length>1?arguments[1]:void 0,r=n(t.length),i=void 0===a?r:d(n(a),r),u=String(e);return s?s.call(t,u,i):t.slice(i-u.length,i)===u}})},a27a:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return d}));var r=a("365c"),i=function(e){return Object(r["a"])("/api/auth/product/add_product",e,"post")},n=function(e){return Object(r["a"])("/api/auth/product/get_product",e,"post")},l=function(e){return Object(r["a"])("/api/auth/product/del_one_product",{id:e},"post")},o=function(e){return Object(r["a"])("/api/auth/product/update_product_local",e,"post")},u=function(e){return Object(r["a"])("/api/auth/product/update_list_many",e,"post")},c=function(e){return Object(r["a"])("/api/auth/product/delete_list_many",e,"post")},s=function(e){return Object(r["a"])("/api/auth/product/get_product_by_id",e,"post")},d=function(e){return Object(r["a"])("/api/auth/product/edit_product_by_id",e,"post")}},a9e3:function(e,t,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),l=a("6eeb"),o=a("5135"),u=a("c6b6"),c=a("7156"),s=a("c04e"),d=a("d039"),p=a("7c73"),m=a("241c").f,v=a("06cf").f,h=a("9bf2").f,f=a("58a8").trim,b="Number",g=i[b],y=g.prototype,x=u(p(y))==b,S=function(e){var t,a,r,i,n,l,o,u,c=s(e,!1);if("string"==typeof c&&c.length>2)if(c=f(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(n=c.slice(2),l=n.length,o=0;o<l;o++)if(u=n.charCodeAt(o),u<48||u>i)return NaN;return parseInt(n,r)}return+c};if(n(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(x?d((function(){y.valueOf.call(a)})):u(a)!=b)?c(new g(S(t)),a,_):S(t)},C=r?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;C.length>k;k++)o(g,w=C[k])&&!o(_,w)&&h(_,w,v(g,w));_.prototype=y,y.constructor=_,l(i,b,_)}},ab13:function(e,t,a){var r=a("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b0c0:function(e,t,a){var r=a("83ab"),i=a("9bf2").f,n=Function.prototype,l=n.toString,o=/^\s*function ([^ (]*)/,u="name";r&&!(u in n)&&i(n,u,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},c019:function(e,t,a){"use strict";var r=a("3e1b"),i=a.n(r);i.a},f6a8:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"form-container"},[a("el-steps",{attrs:{active:e.active,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"填写商品信息"}}),a("el-step",{attrs:{title:"填写商品促销"}}),a("el-step",{attrs:{title:"填写商品属性"}})],1),a("product-info-detail",{directives:[{name:"show",rawName:"v-show",value:e.showStatus[0],expression:"showStatus[0]"}],attrs:{"is-update":e.isUpdate},on:{nextStep:e.nextStep},model:{value:e.productObj,callback:function(t){e.productObj=t},expression:"productObj"}}),a("product-sale-detail",{directives:[{name:"show",rawName:"v-show",value:e.showStatus[1],expression:"showStatus[1]"}],attrs:{"is-update":e.isUpdate},on:{nextStep:e.nextStep,prevStep:e.prevStep},model:{value:e.productObj,callback:function(t){e.productObj=t},expression:"productObj"}}),a("product-attr-detail",{directives:[{name:"show",rawName:"v-show",value:e.showStatus[2],expression:"showStatus[2]"}],attrs:{"is-update":e.isUpdate},on:{prevStep:e.prevStep,finishCommit:e.finishCommit},model:{value:e.productObj,callback:function(t){e.productObj=t},expression:"productObj"}})],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productCateForm",staticStyle:{width:"600px"},attrs:{model:e.value,rules:e.productInfoRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"商品分类",prop:"productCategoryId"}},[a("el-cascader",{attrs:{options:e.productCateOptions,props:{expandTrigger:"hover"}},model:{value:e.productCateValue,callback:function(t){e.productCateValue=t},expression:"productCateValue"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:e.value.name,callback:function(t){e.$set(e.value,"name",t)},expression:"value.name"}})],1),a("el-form-item",{attrs:{label:"副标题",prop:"subTitle"}},[a("el-input",{model:{value:e.value.subTitle,callback:function(t){e.$set(e.value,"subTitle",t)},expression:"value.subTitle"}})],1),a("el-form-item",{attrs:{label:"商品货号："}},[a("el-input",{model:{value:e.value.productSn,callback:function(t){e.$set(e.value,"productSn",t)},expression:"value.productSn"}})],1),a("el-form-item",{attrs:{label:"市场价："}},[a("el-input",{model:{value:e.value.originalPrice,callback:function(t){e.$set(e.value,"originalPrice",t)},expression:"value.originalPrice"}})],1),a("el-form-item",{attrs:{label:"商品售价："}},[a("el-input",{model:{value:e.value.price,callback:function(t){e.$set(e.value,"price",t)},expression:"value.price"}})],1),a("el-form-item",{attrs:{label:"商品库存:"}},[a("el-input",{model:{value:e.value.store,callback:function(t){e.$set(e.value,"store",t)},expression:"value.store"}})],1),a("el-form-item",{attrs:{label:"排序："}},[a("el-input",{model:{value:e.value.sort,callback:function(t){e.$set(e.value,"sort",t)},expression:"value.sort"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.handleNext("productCateForm")}}},[e._v("下一步, 填写商品促销")])],1)],1)],1)},l=[],o=(a("b0c0"),a("96cf"),a("1da1")),u=a("651a"),c={name:"productInfoDetail",props:{value:Object,isUpdate:{type:Boolean,default:!1}},computed:{productId:function(){return this.value.id}},watch:{productId:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,n,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.isUpdate){a.next=2;break}return a.abrupt("return");case 2:if(void 0!==e&&null!==e&&0!==e){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Object(u["e"])();case 6:for(r=a.sent,i=r.data,t.productCateOptions=[],n=0;n<i.length;n++){if(l=[],null!=i[n].children&&i[n].children.length>0)for(o=0;o<i[n].children.length;o++)l.push({value:i[n].children[o].id,label:i[n].children[o].name});l=l.length>0?l:null,t.productCateOptions.push({label:i[n].name,value:i[n].id,children:l})}t.handleEdit();case 11:case"end":return a.stop()}}),a)})))()},productCateValue:function(e){1===e.length?(this.value.productCategoryId=e[0],this.value.productCategoryName=this.getCateNameById(this.value.productCategoryId)):2===e.length&&(this.value.productCategoryId=e[1],this.value.productCategoryName=this.getCateNameById(this.value.productCategoryId)),console.log(this.value.productCategoryId,this.value.productCategoryName)}},data:function(){return{productInfoRules:{name:[{required:!0,message:"请输入商品的名称",trigger:"blur"},{min:3,max:200,message:"长度在 3 到 200 个字符",trigger:"blur"}],subTitle:[{required:!0,message:"请输入商品的副标题",trigger:"blur"}],productCategoryId:[{required:!0,message:"请选择商品的分类",trigger:"blur"}]},productCateValue:[],productCateOptions:[]}},created:function(){this.getCategoryAll()},methods:{getCategoryAll:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["e"])();case 2:for(a=t.sent,r=a.data,e.productCateOptions=[],i=0;i<r.length;i++){if(n=[],null!=r[i].children&&r[i].children.length>0)for(l=0;l<r[i].children.length;l++)n.push({value:r[i].children[l].id,label:r[i].children[l].name});n=n.length>0?n:null,e.productCateOptions.push({label:r[i].name,value:r[i].id,children:n})}case 6:case"end":return t.stop()}}),t)})))()},handleEdit:function(){null!==this.value.productCategoryId&&(console.log(this.value),this.value.cateParentId&&0!==this.value.cateParentId&&this.productCateValue.push(this.value.cateParentId),this.productCateValue.push(this.value.productCategoryId),console.log(this.value))},getCateNameById:function(e){console.log("======="),console.log(e,this.productCateOptions),console.log("=======");for(var t=null,a=this.productCateOptions,r=0;r<a.length;r++){var i=a[r].children;if(i){for(var n=0;n<a[r].children.length;n++)if(a[r].children[n].value===e)return t=a[r].children[n].label,t}else if(a[r].value===e)return t=a[r].label,t}return t},handleNext:function(e){this.$emit("nextStep")}}},s=c,d=a("2877"),p=Object(d["a"])(s,n,l,!1,null,"3046fe45",null),m=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productCateForm",staticStyle:{width:"600px"},attrs:{model:e.value,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"赠送积分：",prop:"giftScore"}},[a("el-input",{model:{value:e.value.giftScore,callback:function(t){e.$set(e.value,"giftScore",t)},expression:"value.giftScore"}})],1),a("el-form-item",{attrs:{label:"赠送成长值：",prop:"giftGrow"}},[a("el-input",{model:{value:e.value.giftGrow,callback:function(t){e.$set(e.value,"giftGrow",t)},expression:"value.giftGrow"}})],1),a("el-form-item",{attrs:{label:"商品上架：",prop:"delivery"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.value.publishStatus,callback:function(t){e.$set(e.value,"publishStatus",t)},expression:"value.publishStatus"}})],1),a("el-form-item",{attrs:{label:"商品推荐：",prop:"delivery"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("新品")]),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.value.newsStatus,callback:function(t){e.$set(e.value,"newsStatus",t)},expression:"value.newsStatus"}}),a("span",{staticStyle:{"margin-right":"10px","margin-left":"10px"}},[e._v("推荐")]),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.value.recommendStatus,callback:function(t){e.$set(e.value,"recommendStatus",t)},expression:"value.recommendStatus"}})],1),a("el-form-item",{attrs:{label:"服务保证: ",prop:"type"}},[a("el-checkbox-group",{model:{value:e.selectServiceList,callback:function(t){e.selectServiceList=t},expression:"selectServiceList"}},[a("el-checkbox",{attrs:{label:1}},[e._v("1小时达")]),a("el-checkbox",{attrs:{label:2}},[e._v("满60免运费")]),a("el-checkbox",{attrs:{label:3}},[e._v("无忧退款")])],1)],1),a("el-form-item",{attrs:{label:"净含量："}},[a("el-input",{model:{value:e.value.netContent,callback:function(t){e.$set(e.value,"netContent",t)},expression:"value.netContent"}})],1),a("el-form-item",{attrs:{label:"保存条件："}},[a("el-input",{model:{value:e.value.storageCondition,callback:function(t){e.$set(e.value,"storageCondition",t)},expression:"value.storageCondition"}})],1),a("el-form-item",{attrs:{label:"保质期："}},[a("el-input",{attrs:{placeholder:"请输入商品保质期"},model:{value:e.value.quality,callback:function(t){e.$set(e.value,"quality",t)},expression:"value.quality"}})],1),a("el-form-item",{attrs:{label:"选择优惠方式："}},[a("el-radio-group",{model:{value:e.value.reductionType,callback:function(t){e.$set(e.value,"reductionType",t)},expression:"value.reductionType"}},[a("el-radio-button",{attrs:{label:0}},[e._v("无优惠")]),a("el-radio-button",{attrs:{label:1}},[e._v("特惠促销")]),a("el-radio-button",{attrs:{label:2}},[e._v("会员优惠")]),a("el-radio-button",{attrs:{label:3}},[e._v("限时抢购")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===e.value.reductionType,expression:"value.reductionType === 1"}]},[a("div",[e._v(" 开始时间: "),a("el-date-picker",{attrs:{align:"right",type:"datetime",placeholder:"选择特惠开始的时间","picker-options":e.pickerOptions},model:{value:e.value.reductionStartTime,callback:function(t){e.$set(e.value,"reductionStartTime",t)},expression:"value.reductionStartTime"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[e._v(" 结束时间: "),a("el-date-picker",{attrs:{align:"right",type:"datetime",placeholder:"选择特惠结束的时间","picker-options":e.pickerOptions},model:{value:e.value.reductionEndTime,callback:function(t){e.$set(e.value,"reductionEndTime",t)},expression:"value.reductionEndTime"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[e._v(" 促销价格: "),a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"输入促销价格"},model:{value:e.value.reductionPrice,callback:function(t){e.$set(e.value,"reductionPrice",t)},expression:"value.reductionPrice"}})],1)]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2===e.value.reductionType,expression:"value.reductionType === 2"}]},e._l(e.value.memberPriceList,(function(t,r){return a("div",{key:r,staticStyle:{"margin-top":"10px"}},[e._v(" "+e._s(t.memberLevelName)+": "),a("el-input",{staticStyle:{width:"200px"},model:{value:t.memberLevelPrice,callback:function(a){e.$set(t,"memberLevelPrice",a)},expression:"item.memberLevelPrice"}})],1)})),0),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3===e.value.reductionType,expression:"value.reductionType === 3"}]},[a("el-table",{staticStyle:{width:"80%"},attrs:{data:e.value.productHomeKillList,border:""}},[a("el-table-column",{attrs:{align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.count,callback:function(a){e.$set(t.row,"count",a)},expression:"scope.row.count"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"折扣"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.discount,callback:function(a){e.$set(t.row,"discount",a)},expression:"scope.row.discount"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleAddHomeKill(t.$index,t.row)}}},[e._v("添加")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleRemoveHomeKill(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",[a("el-button",{attrs:{size:"medium"},on:{click:e.handlePrev}},[e._v("上一步, 填写商品信息")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleNext}},[e._v("下一步, 填写商品属性")])],1)],1)],1)},h=[],f=(a("a9e3"),a("ac1f"),a("8a79"),a("1276"),{name:"productDaleDetail",props:{value:Object,isUpdate:{type:Boolean,default:!1}},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()}}}},computed:{selectServiceList:{get:function(){var e=[];if(null===this.value.serviceIds||void 0===this.value.serviceIds||""===this.value.serviceIds)return e;for(var t=this.value.serviceIds.split(","),a=0;a<t.length;a++)e.push(Number(t[a]));return e},set:function(e){var t="";if(null!==e&&e.length>0){for(var a=0;a<e.length;a++)t+=e[a]+",";t.endsWith(",")&&(t=t.substr(0,t.length-1)),this.value.serviceIds=t}else this.value.serviceIds=null;console.log(this.value.serviceIds)}}},methods:{handlePrev:function(){this.$emit("prevStep")},handleNext:function(){this.$emit("nextStep")},handleAddHomeKill:function(e,t){var a=this.value.productHomeKillList;a.length<1?a.push({count:0,discount:0}):this.$message({message:"首页秒杀方案只能有1种",type:"warning"})},handleRemoveHomeKill:function(e,t){var a=this.value.productHomeKillList;a.pop(),a.push({count:0,discount:0})}}}),b=f,g=Object(d["a"])(b,v,h,!1,null,"6558e982",null),y=g.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productCateForm",staticStyle:{width:"800px"},attrs:{model:e.value,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"商品相册: "}},[a("multi-upload",{attrs:{"upload-action":"/manager/api/auth/product/upload_product"},model:{value:e.dealProductPic,callback:function(t){e.dealProductPic=t},expression:"dealProductPic"}})],1),a("el-form-item",{attrs:{label:"商品详情页: "}},[a("quill-editor",{ref:"phoneEditor",on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},ready:function(t){return e.onEditorReady(t)}},model:{value:e.value.detailHtml,callback:function(t){e.$set(e.value,"detailHtml",t)},expression:"value.detailHtml"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"medium"},on:{click:e.handlePrev}},[e._v("上一步, 填写商品促销")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleCommit}},[e._v("完成, 提交商品")])],1)],1)],1)},S=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{attrs:{action:e.uploadAction,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.handleUploadSuccess,"on-exceed":e.handleExceed,"file-list":e.fileList,limit:e.maxCount}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},_=[],C=a("a078"),k={name:"multiUpload",props:{uploadAction:{type:String,required:!0},value:Array,maxCount:{type:Number,default:5}},data:function(){return{dialogImageUrl:"",dialogVisible:!1}},computed:{fileList:function(){var e=this.value,t=[];if(e)for(var a=0;a<e.length;a++)t.push({url:e[a]});return t}},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleUploadSuccess:function(e,t,a){this.fileList.push({url:C["a"].BASE_URL+e.data.name}),this.handleUpload(this.fileList)},handleRemove:function(e,t){this.fileList=t,this.handleUpload(this.fileList)},handleExceed:function(){this.$message({message:"最多只能上传".concat(this.maxCount,"张图片"),type:"warning",duration:1e4})},handleUpload:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].url);this.$emit("input",t)}}},I=k,O=Object(d["a"])(I,w,_,!1,null,"1b6fe249",null),P=O.exports,$={name:"productAttrDetail",props:{value:Object,isUpdate:{type:Boolean,default:!1}},data:function(){return{}},components:{MultiUpload:P},computed:{dealProductPic:{get:function(){var e=[];if(null===this.value.pic||void 0===this.value.pic||""===this.value.pic)return e;if(e.push(this.value.pic),null===this.value.albumPics||void 0===this.value.albumPics||""===this.value.albumPics)return e;for(var t=this.value.albumPics.split(","),a=0;a<t.length;a++)e.push(t[a]);return e},set:function(e){if(null===e||0===e.length)this.value.pic=null,this.value.albumPics=null;else if(this.value.pic=e[0],this.value.albumPics="",e.length>1)for(var t=1;t<e.length;t++)this.value.albumPics+=e[t],e.length-1!==t&&(this.value.albumPics+=",")}}},methods:{handlePrev:function(){this.$emit("prevStep")},handleCommit:function(){this.$emit("finishCommit",this.isUpdate)},onEditorBlur:function(e){console.log("editor blur!",e),console.log(this.content)},onEditorFocus:function(e){console.log("editor focus!",e)},onEditorReady:function(e){console.log("editor ready!",e)}}},L=$,N=(a("c019"),Object(d["a"])(L,x,S,!1,null,null,null)),j=N.exports,E=a("a27a"),T={productCategoryId:null,productCategoryName:"",name:"",subTitle:"",productIntro:"",productSn:"",originalPrice:null,price:null,store:null,sort:null,giftScore:null,giftGrow:null,publishStatus:1,newsStatus:1,recommendStatus:1,serviceIds:"",netContent:"",storageCondition:"",quality:"",reductionType:0,reductionPrice:0,reductionStartTime:null,reductionEndTime:null,memberPriceList:[{memberLevelId:1,memberLevelName:"黄金会员",memberLevelPrice:null},{memberLevelId:2,memberLevelName:"白金会员",memberLevelPrice:null},{memberLevelId:3,memberLevelName:"钻石会员",memberLevelPrice:null}],productHomeKillList:[{count:0,discount:0}],pic:"",albumPics:"",detailHtml:""},A={name:"productDetail",data:function(){return{active:0,showStatus:[!0,!1,!1],productObj:Object.assign({},T)}},props:{isUpdate:{type:Boolean,default:!1}},components:{ProductInfoDetail:m,productSaleDetail:y,productAttrDetail:j},created:function(){var e=this;this.isUpdate&&Object(E["e"])({id:this.$route.query.id}).then((function(t){if(console.log(t),1===t.status){var a=t.data;0===a.memberPriceList.length&&(a.memberPriceList=[{memberLevelId:1,memberLevelName:"黄金会员",memberLevelPrice:null},{memberLevelId:2,memberLevelName:"白金会员",memberLevelPrice:null},{memberLevelId:3,memberLevelName:"钻石会员",memberLevelPrice:null}]),0===a.productHomeKillList.length&&(a.productHomeKillList=[{count:0,discount:0}]),e.productObj=t.data,console.log(t.data,e.productObj)}})).catch((function(t){e.$message({message:t.msg,type:"error",duration:1e3})}))},methods:{hideAll:function(){for(var e=0;e<this.showStatus.length;e++)this.showStatus[e]=!1},prevStep:function(){this.active>0&&this.active<this.showStatus.length&&(this.active--,this.hideAll(),this.showStatus[this.active]=!0)},nextStep:function(){this.active<this.showStatus.length-1&&(this.active++,this.hideAll(),this.showStatus[this.active]=!0)},finishCommit:function(e){var t=this;this.$confirm("是否创建一个新的商品","小撩温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e?Object(E["d"])(t.productObj).then((function(e){console.log(e),e&&1===e.status&&(t.$message({type:"success",message:e.msg,duration:1e3}),t.$router.push("/pm/product"))})).catch((function(e){t.$message({type:"error",message:e.msg,duration:1e3})})):Object(E["a"])(t.productObj).then((function(e){e&&1===e.status?(t.$message({message:e.msg,type:"success",duration:1e3}),location.reload()):t.$message({message:e.msg,type:"error",duration:1e3})}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}},U=A,R=Object(d["a"])(U,r,i,!1,null,"5af3ae6e",null);t["a"]=R.exports}}]);
//# sourceMappingURL=chunk-2e64f16a.c92056c2.js.map